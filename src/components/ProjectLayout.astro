---
import Header from "../components/Header.astro";
import { siteConfig } from "../config";
import "../styles/global.css";

// Props coming from each Markdown page’s frontmatter
const {
  title,
  description,
  skills = [],
  repo,
  demo,
  date,
} = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content={description ?? siteConfig.description} />
    <title>{title ? `${title} — ${siteConfig.name}` : `${siteConfig.name} - ${siteConfig.title}`}</title>
  </head>
  <body class="bg-white">
    {/* match your sticky header + smooth scroll behavior */}
    <Header />

    {/* page header section uses the same spacing scale as homepage sections */}
    <section class="p-8 sm:p-12 md:p-16 lg:p-24">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-16 items-start">
        <div class="lg:col-span-4">
          <h1 class="text-3xl sm:text-4xl md:text-5xl xl:text-7xl font-bold text-gray-900">
            {title}
          </h1>
          <div
            class="w-[75px] h-[5px] mt-2 rounded-full"
            style={`background-color: ${siteConfig.accentColor}`}
          />
          {date && (
            <p class="mt-3 text-sm sm:text-base text-gray-500">
              {date}
            </p>
          )}
        </div>

        <div class="lg:col-span-8">
          {description && (
            <p class="text-lg sm:text-xl md:text-2xl leading-relaxed text-gray-600 mb-6">
              {description}
            </p>
          )}

          {skills.length > 0 && (
            <div class="flex flex-wrap gap-2 mb-8">
              {skills.map((s) => (
                <span class="px-2.5 sm:px-3 py-1 sm:py-1.5 bg-gray-900 text-white rounded-md sm:rounded-lg text-xs sm:text-sm font-medium">
                  {s}
                </span>
              ))}
            </div>
          )}

          {(repo || demo) && (
            <div class="flex gap-4 mb-8">
              {repo && (
                <a class="underline font-medium" href={repo} target="_blank" rel="noopener">
                  Source ↗
                </a>
              )}
              {demo && (
                <a class="underline font-medium" href={demo} target="_blank" rel="noopener">
                  Live demo ↗
                </a>
              )}
            </div>
          )}

          {/* the markdown content */}
          <article class="prose max-w-none text-gray-800">
            <slot />
          </article>
        </div>
      </div>
    </section>

    {/* optional: if you have a Footer component, you can import and render it here */}
    {/* <Footer /> */}
  </body>
</html>
